function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a);var o=a("6fOXY"),i=a("iQIUW"),l=a("fZKcF");const c=new(0,o.default),{formEl:s,galleryEl:u,containerEl:f}={formEl:document.querySelector(".search-form"),galleryEl:document.querySelector(".gallery")};let y=!0;async function d(t){await u.insertAdjacentHTML("beforeend",t);new(e(l))(".gallery a").on("show.simplelightbox")}async function g(e){w.observe(e)}s.addEventListener("submit",(async function(e){try{e.preventDefault(),c.query=e.currentTarget.elements.searchQuery.value;await c.resetPage(),await async function(){return await(u.innerHTML="")}();const t=await c.getPictures(c.query);if(0===t.length)return i.Notify.failure("Sorry, there are no images matching your search query. Please try again.");const r=await c.totalHits(c.query);i.Notify.info(`Hooray! We found ${r} images.`);const n=await c.galleryMarkup(t),a=(await d(n),await document.querySelector(".img:last-child"));if(y=!0,y){await g(a);y=!1}await async function(){const{height:e}=document.querySelector("body").firstElementChild.getBoundingClientRect();await window.scrollBy({top:e,behavior:"smooth"})}()}catch(e){console.log(e)}}));const w=new IntersectionObserver(((e,t)=>{const r=e[0];r.isIntersecting&&(!async function(){try{const e=await c.getPictures(c.query),t=await c.galleryMarkup(e),r=(await d(t),await document.querySelector(".img:last-child"));y=!0,y&&(g(r),y=!1),e.length<39&&(i.Notify.warning("We're sorry, but you've reached the end of search results."),w.unobserve(r))}catch(e){console.log(e)}}(),t.unobserve(r.target))}),{});
//# sourceMappingURL=infinite-scroll-page.97fe3650.js.map
